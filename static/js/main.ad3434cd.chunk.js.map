{"version":3,"sources":["State/StateProvider/StateProvider.js","firebase.js","components/Header/Header.js","components/Products/Products.js","components/Home/Home.js","components/CheckOutProduct/CheckOutProduct.js","components/Subtotal/Subtotal.js","components/Checkout/Checkout.js","components/Login/Login.js","axios/axios.js","components/Payment/Payment.js","components/Order/Order.js","components/Orders/Orders.js","App.js","reportWebVitals.js","State/StateProvider/Reducer.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","firebaseApp","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","auth","Header","basket","user","className","to","src","alt","type","onClick","signOut","email","ShoppingBasket","length","Products","id","title","price","image","rating","dispatch","history","useHistory","Array","fill","map","i","index","item","push","Home","CheckOutProduct","hidebutton","Subtotal","renderText","name","decimalScale","reduce","sum","getBasketTotal","displayType","thousandSeparator","prefix","e","Checkout","Login","useState","setEmail","password","setPassword","onChange","target","preventDefault","signInWithEmailAndPassword","then","catch","err","console","log","message","createUserWithEmailAndPassword","instance","axios","create","baseURL","Payment","stripe","useStripe","elements","useElements","error","setError","disabled","setDisabled","succeeded","setSucceeded","processing","setProcessing","clientSecret","setClientSecret","useEffect","getClientSecret","a","method","url","response","data","handleSubmit","confirmCardPayment","payment_method","card","getElement","CardElement","paymentIntent","collection","doc","uid","set","amount","created","replace","onSubmit","empty","Order","order","moment","unix","format","Orders","orders","setOrders","orderBy","onSnapshot","snapshot","docs","promise","loadStripe","App","onAuthStateChanged","authUser","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","state","action","findIndex","basketItem","newBasket","splice","warn","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sPAGaA,EAAeC,0BAGfC,EAAgB,SAAC,GAAD,IAAEC,EAAF,EAAEA,QAAQC,EAAV,EAAUA,aAAaC,EAAvB,EAAuBA,SAAvB,OACzB,cAACL,EAAaM,SAAd,CAAuBC,MAAOC,qBAAWL,EAASC,GAAlD,SACKC,KAIII,EAAe,kBAAMC,qBAAWV,ICCvCW,E,MAAcC,EAASC,cAXN,CACnBC,OAAQC,0CACRC,WAAYD,8BACZE,YAAaF,qCACbG,UAAWH,cACXI,cAAeJ,0BACfK,kBAAmBL,eACnBM,MAAON,4CACPO,cAAeP,iBAKbQ,EAAKZ,EAAYa,YACjBC,EAAOd,EAAYc,OCmDVC,MA3Df,WAAmB,IAAD,EAEUjB,IAFV,sBAENkB,EAFM,EAENA,OAAOC,EAFD,EAECA,KAMf,OACI,sBAAKC,UAAU,SAAf,UACI,cAAC,IAAD,CAAMC,GAAG,IAAT,SACI,qBAAKC,IAAI,wFAAwFC,IAAI,OAAOH,UAAU,kBAE1H,sBAAKA,UAAU,gBAAf,UACI,uBAAOI,KAAK,OAAOJ,UAAU,uBAC7B,cAAC,IAAD,CAAYA,UAAU,yBAE1B,sBAAKA,UAAU,aAAf,UACI,cAAC,IAAD,CAAMC,GAAIF,EAAM,IAAO,SAAvB,SACI,sBAAKM,QAfQ,WACtBN,GAAMH,EAAKU,WAckCN,UAAU,gBAA9C,UACI,uBAAMA,UAAU,uBAAhB,mBACWD,EAAMA,EAAKQ,MAAO,UAE7B,sBAAMP,UAAU,uBAAhB,SACKD,EAAM,WAAY,iBAI/B,cAAC,IAAD,CAAME,GAAG,UAAT,SACA,sBAAKD,UAAU,gBAAf,UACI,sBAAMA,UAAU,uBAAhB,qBAGA,sBAAMA,UAAU,uBAAhB,2BAKJ,sBAAKA,UAAU,gBAAf,UACI,sBAAMA,UAAU,uBAAhB,kBAGA,sBAAMA,UAAU,uBAAhB,sBAIJ,cAAC,IAAD,CAAMC,GAAG,YAAT,SACI,sBAAKD,UAAU,sBAAf,UACI,cAACQ,EAAA,EAAD,IACA,sBAAMR,UAAU,0CAAhB,gBACKF,QADL,IACKA,OADL,EACKA,EAAQW,qB,aCZtBC,MAzCf,YAAkD,IAA/BC,EAA8B,EAA9BA,GAAGC,EAA2B,EAA3BA,MAAMC,EAAqB,EAArBA,MAAMC,EAAe,EAAfA,MAAMC,EAAS,EAATA,OAAS,EAEnBnC,IAFmB,mBAErCmB,EAFqC,KAErCA,KAAMiB,EAF+B,KAGvCC,EAAUC,cAoBhB,OACI,sBAAKlB,UAAU,WAAf,UACI,sBAAKA,UAAU,gBAAf,UACI,4BAAIY,IACJ,oBAAGZ,UAAU,iBAAb,UACI,sCACA,iCAASa,OAEb,qBAAKb,UAAU,kBAAf,SACKmB,MAAMJ,GAAQK,OAAOC,KAAI,SAACC,EAAEC,GAAH,OAAY,sCAAQA,WAGtD,qBAAKrB,IAAKY,EAAOX,IAAKS,IACtB,wBAAQP,QA/BI,WAEbN,EACCiB,EAAS,CACLZ,KAAM,gBACNoB,KAAM,CACFb,KACAC,QACAC,QACAC,QACAC,YAIRE,EAAQQ,KAAK,WAiBb,6B,MCXGC,MA1Bf,WACI,OACI,qBAAK1B,UAAU,OAAf,SACI,sBAAKA,UAAU,iBAAf,UACI,qBAAKA,UAAU,aAAaE,IAAI,kFAAkFC,IAAI,KACtH,sBAAKH,UAAU,WAAf,UACI,cAAC,EAAD,CAAUW,GAAG,QAAQC,MAAM,aAAaC,MAAO,OAAQC,MAAM,wFAAwFC,OAAQ,IAC7J,cAAC,EAAD,CAAUJ,GAAG,QAAQC,MAAM,UAAUC,MAAO,OAAQC,MAAM,qFAAqFC,OAAQ,OAE3J,sBAAKf,UAAU,WAAf,UACI,cAAC,EAAD,CAAUW,GAAG,QAAQC,MAAM,aAAaC,MAAO,KAAMC,MAAM,kFAAkFC,OAAQ,IACrJ,cAAC,EAAD,CAAUJ,GAAG,QAAQC,MAAM,YAAYC,MAAO,OAAQC,MAAM,uFAAuFC,OAAQ,OAE/J,sBAAKf,UAAU,WAAf,UACI,cAAC,EAAD,CAAUW,GAAG,SAASC,MAAM,UAAUC,MAAO,OAAQC,MAAM,qFAAqFC,OAAQ,IACxJ,cAAC,EAAD,CAAUJ,GAAG,QAAQC,MAAM,aAAaC,MAAO,MAAOC,MAAM,uFAAuFC,OAAQ,OAE/J,qBAAKf,UAAU,WAAf,SACI,cAAC,EAAD,CAAUW,GAAG,QAAQC,MAAM,kCAAkCC,MAAO,OAAQC,MAAM,uFAAuFC,OAAQ,Y,MCUtLY,MA5Bf,YAAoE,IAA1ChB,EAAyC,EAAzCA,GAAGC,EAAsC,EAAtCA,MAAMC,EAAgC,EAAhCA,MAAMC,EAA0B,EAA1BA,MAAMC,EAAoB,EAApBA,OAAOa,EAAa,EAAbA,WAAa,EAC3ChD,IAAZoC,EADuD,oBAQ/D,OACI,sBAAKhB,UAAU,kBAAf,UACI,qBAAKE,IAAKY,EAAOX,IAAI,UAAUH,UAAU,0BACzC,sBAAKA,UAAU,uBAAf,UACI,mBAAGA,UAAU,wBAAb,SACKY,IAEL,oBAAGZ,UAAU,wBAAb,UACI,sCACA,iCAASa,OAEb,qBAAKb,UAAU,yBAAf,SACKmB,MAAMJ,GAAQK,OAAOC,KAAI,SAACC,EAAEC,GAAH,OAAY,sCAAQA,SAE/CK,GAAe,wBAAQvB,QApBb,WACrBW,EAAS,CACLZ,KAAM,qBACNO,QAiBsB,uC,yBCoBnBkB,MAxCf,WAEI,IAAMZ,EAAUC,cAFA,EAQQtC,IARR,sBAQRkB,EARQ,EAQRA,OAAOC,EARC,EAQDA,KAEf,OACI,sBAAKC,UAAU,WAAf,UACI,cAAC,IAAD,CACI8B,WAAY,SAAApD,GAAK,OAAK,qCACtB,kDACeoB,QADf,IACeA,OADf,EACeA,EAAQW,OADvB,WACsC,iCAAS/B,OAE/C,wBAAOsB,UAAU,gBAAjB,UACI,uBAAOI,KAAK,WAAW2B,KAAK,GAAGpB,GAAG,KADtC,oCAIAqB,aAAc,EACdtD,MAlBS,SAACoB,GAClB,cAAOA,QAAP,IAAOA,OAAP,EAAOA,EAAQmC,QAAO,SAACC,EAAKV,GAAN,OAAeU,EAAMV,EAAKX,QAAM,GAiBvCsB,CAAerC,GACtBsC,YAAa,OACbC,mBAAmB,EACnBC,OAAQ,MACR,wBAAQjC,QAAS,SAAAkC,GACVxC,EACCkB,EAAQQ,KAAK,YAEbR,EAAQQ,KAAK,WAJrB,qC,MCIDe,MA9Bf,WAAqB,IAAD,EAEQ5D,IAFR,sBAERkB,EAFQ,EAERA,OAAOC,EAFC,EAEDA,KAEf,OACI,sBAAKC,UAAU,WAAf,UACI,sBAAKA,UAAU,gBAAf,UACI,qBAAKE,IAAI,+FAA+FC,IAAI,KAAKH,UAAU,gBAC3H,gCACI,+CAAWD,QAAX,IAAWA,OAAX,EAAWA,EAAMQ,SACjB,oBAAIP,UAAU,iBAAd,kCAFJ,OAGKF,QAHL,IAGKA,OAHL,EAGKA,EAAQuB,KAAI,SAACG,EAAKD,GAAN,OACT,cAAC,EAAD,CAEAZ,GAAIa,EAAKb,GACTC,MAAOY,EAAKZ,MACZC,MAAOW,EAAKX,MACZC,MAAOU,EAAKV,MACZC,OAAQS,EAAKT,QALRQ,YAUjB,qBAAKvB,UAAU,iBAAf,SACI,cAAC,EAAD,U,MCkBDyC,MA3Cf,WACI,IAAMxB,EAAUC,cADH,EAEYwB,mBAAS,IAFrB,mBAENnC,EAFM,KAEAoC,EAFA,OAGkBD,mBAAS,IAH3B,mBAGNE,EAHM,KAGGC,EAHH,KAsBb,OACI,sBAAK7C,UAAU,QAAf,UACI,cAAC,IAAD,CAAMC,GAAG,IAAT,SACI,qBAAKC,IAAI,wFAAwFC,IAAI,OAAOH,UAAU,iBAE1H,sBAAKA,UAAU,kBAAf,UACI,yCACA,iCACI,uCACA,uBAAOI,KAAK,QAAQ1B,MAAO6B,EAAOuC,SAAU,SAAAP,GAAC,OAAII,EAASJ,EAAEQ,OAAOrE,UACnE,0CACA,uBAAO0B,KAAK,WAAW1B,MAAOkE,EAAUE,SAAU,SAAAP,GAAC,OAAIM,EAAYN,EAAEQ,OAAOrE,UAC5E,wBAAQ0B,KAAK,SAASC,QA7BvB,SAACkC,GACZA,EAAES,iBAEFpD,EAAKqD,2BAA2B1C,EAAMqC,GAAUM,MAAK,SAAAtD,GAC9CA,GACCqB,EAAQQ,KAAK,QACb0B,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,EAAIG,aAuBcvD,UAAU,qBAAjD,wBAEJ,yHACA,wBAAQK,QAvBH,SAACkC,GACdA,EAAES,iBAEFpD,EAAK4D,+BAA+BjD,EAAMqC,GAAUM,MAAK,SAAAtD,GAClDA,GACCqB,EAAQQ,KAAK,QACb0B,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,EAAIG,aAiBFvD,UAAU,uBAArC,4B,yCCpCDyD,E,OAJEC,EAAMC,OAAO,CAC1BC,QAAS,gD,MC4IEC,MArIf,WAEI,IAAM5C,EAAUC,cACV4C,EAASC,sBACTC,EAAWC,wBAJF,EAKUvB,mBAAS,MALnB,mBAKRwB,EALQ,KAKFC,EALE,OAMgBzB,oBAAS,GANzB,mBAMR0B,EANQ,KAMCC,EAND,OAOkB3B,oBAAS,GAP3B,mBAOR4B,EAPQ,KAOEC,EAPF,OAQoB7B,mBAAS,IAR7B,mBAQR8B,EARQ,KAQGC,EARH,OASwB/B,mBAAS,IATjC,mBASRgC,EATQ,KASKC,EATL,OAWkB/F,IAXlB,0BAWPkB,EAXO,EAWPA,OAAOC,EAXA,EAWAA,KAAMiB,EAXN,KAaf4D,qBAAU,WACN,IAAMC,EAAe,uCAAG,4BAAAC,EAAA,sEACGrB,EAAS,CAC5BsB,OAAQ,OACRC,IAAI,0BAAD,OAAqD,IAAzB7C,EAAerC,MAH9B,OACdmF,EADc,OAKpBN,EAAgBM,EAASC,KAAKR,cALV,2CAAH,qDASlBvC,EAAerC,GAAU,GACxB+E,MAGL,CAAC/E,IAEJ,IAAMqC,EAAe,SAACrC,GAClB,cAAOA,QAAP,IAAOA,OAAP,EAAOA,EAAQmC,QAAO,SAACC,EAAKV,GAAN,OAAeU,EAAMV,EAAKX,QAAM,IAGpDsE,EAAY,uCAAG,WAAM5C,GAAN,SAAAuC,EAAA,sDACjBvC,EAAES,iBACC0B,EAAajE,OAAS,IACrBgE,GAAc,GAEdX,EAAOsB,mBAAmBV,EAAc,CACpCW,eAAgB,CACZC,KAAMtB,EAASuB,WAAWC,kBAE/BtC,MAAK,YAAsB,IAApBuC,EAAmB,EAAnBA,cAEN/F,EAAGgG,WAAW,SAASC,IAAvB,OAA2B5F,QAA3B,IAA2BA,OAA3B,EAA2BA,EAAM6F,KAAKF,WAAW,UAAUC,IAAIF,EAAc9E,IAAIkF,IAAI,CACjF/F,SACAgG,OAAQL,EAAcK,OACtBC,QAASN,EAAcM,UAG3BxB,GAAa,GACbJ,EAAS,MACTM,GAAc,GAEdzD,EAAS,CACLZ,KAAM,iBAGVa,EAAQ+E,QAAQ,eAzBP,2CAAH,sDAqClB,OACI,qBAAKhG,UAAU,UAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,4CAAc,eAAC,IAAD,CAAMC,GAAG,YAAT,iBAAsBH,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAQW,OAA9B,YAAd,OACA,sBAAKT,UAAU,kBAAf,UACI,qBAAKA,UAAU,gBAAf,SACI,oDAEJ,sBAAKA,UAAU,kBAAf,UACI,mCAAID,QAAJ,IAAIA,OAAJ,EAAIA,EAAMQ,QACV,+CACA,qDAGR,sBAAKP,UAAU,kBAAf,UACI,qBAAKA,UAAU,gBAAf,SACI,6DAEJ,qBAAKA,UAAU,gBAAf,gBACKF,QADL,IACKA,OADL,EACKA,EAAQuB,KAAI,SAACG,EAAMD,GAAP,OACT,cAAC,EAAD,CAEAZ,GAAIa,EAAKb,GACTC,MAAOY,EAAKZ,MACZC,MAAOW,EAAKX,MACZC,MAAOU,EAAKV,MACZC,OAAQS,EAAKT,QALRQ,WAUjB,sBAAKvB,UAAU,kBAAf,UACI,qBAAKA,UAAU,gBAAf,SACI,mDAEJ,qBAAKA,UAAU,kBAAf,SACI,uBAAMiG,SAAUd,EAAhB,UACI,cAAC,cAAD,CAAarC,SA1ChB,SAAAP,GACjB8B,EAAY9B,EAAE2D,OACd/B,EAAS5B,EAAE2B,MAAQ3B,EAAE2B,MAAMX,QAAU,OAyCjB,sBAAKvD,UAAU,yBAAf,UACA,cAAC,IAAD,CACI8B,WAAY,SAAApD,GAAK,OAAK,mCACtB,+CACkBA,QAGlBsD,aAAc,EACdtD,MAAOyD,EAAerC,GACtBsC,YAAa,OACbC,mBAAmB,EACnBC,OAAQ,MACR,wBAAQtC,UAAU,iBAAiBoE,SAAUI,GAAcJ,GAAYE,EAAvE,SACI,+BAAOE,EAAa,2CAAoB,iBAG/CN,GAAS,8BAAMA,kB,+BC7F7BiC,MAnCf,YAAyB,IAAD,EAARC,EAAQ,EAARA,MACZ,OACI,sBAAKpG,UAAU,QAAf,UACI,oBAAIA,UAAU,UAAd,mBACA,mBAAGA,UAAU,aAAb,SAA2BqG,IAAOC,KAAP,OAAYF,QAAZ,IAAYA,OAAZ,EAAYA,EAAOlB,KAAKa,SAASQ,OAAO,0BACnE,mBAAGvG,UAAU,WAAb,SACI,uCAAQoG,QAAR,IAAQA,OAAR,EAAQA,EAAOzF,OAJvB,UAOQyF,EAAMlB,KAAKpF,cAPnB,aAOQ,EAAmBuB,KAAI,SAAAG,GAAI,OACvB,cAAC,EAAD,CAEAb,GAAIa,EAAKb,GACTG,MAAOU,EAAKV,MACZF,MAAOY,EAAKZ,MACZC,MAAOW,EAAKX,MACZE,OAAQS,EAAKT,OACba,YAAU,GANLJ,EAAKb,OASlB,cAAC,IAAD,CACImB,WAAY,SAAApD,GAAK,OAAK,mCACtB,qBAAIsB,UAAU,cAAd,2BACmBtB,QAGnBsD,aAAc,EACdtD,OAAY,OAAL0H,QAAK,IAALA,OAAA,EAAAA,EAAOlB,KAAKY,QAAO,IAC1B1D,YAAa,OACbC,mBAAmB,EACnBC,OAAQ,U,OCFTkE,MA5Bf,WAAmB,IAAD,EACI5H,IAAVmB,EADM,oBACNA,KADM,EAEe2C,mBAAS,IAFxB,mBAEP+D,EAFO,KAEEC,EAFF,KAgBd,OAZA9B,qBAAU,WACH7E,EACCL,EAAGgG,WAAW,SAASC,IAAvB,OAA2B5F,QAA3B,IAA2BA,OAA3B,EAA2BA,EAAM6F,KAAKF,WAAW,UAAUiB,QAAQ,UAAW,QAAQC,YAAW,SAAAC,GAC7FH,EAAUG,EAASC,KAAKzF,KAAI,SAAAsE,GAAG,MAAK,CAChChF,GAAIgF,EAAIhF,GACRuE,KAAMS,EAAIT,eAIlBwB,EAAU,MAEf,CAAC3G,IAEA,sBAAKC,UAAU,SAAf,UACI,6CACA,qBAAKA,UAAU,eAAf,SACKyG,EAAOpF,KAAI,SAAA+E,GAAK,OACb,cAAC,EAAD,CAAsBA,MAAOA,GAAjBA,EAAMzF,aCbhCoG,EAAUC,YAAW,+GAwDZC,MAtDf,WAAgB,IAAD,EAEMrI,IAAXoC,EAFK,oBAuBb,OAnBA4D,qBAAU,WACRhF,EAAKsH,oBAAmB,SAAAC,GAGpBnG,EADCmG,EACQ,CACP/G,KAAM,WACNL,KAAMoH,GAIC,CACP/G,KAAM,WACNL,KAAM,YAKX,CAACiB,IAGF,cAAC,IAAD,UACE,qBAAKhB,UAAU,MAAf,SACE,eAAC,IAAD,WACE,eAAC,IAAD,CAAOoH,OAAK,EAACC,KAAK,IAAlB,UACE,cAAC,EAAD,IACA,cAAC,EAAD,OAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,SAAlB,SACE,cAAC,EAAD,MAEF,eAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,YAAlB,UACE,cAAC,EAAD,IACA,cAAC,EAAD,OAEF,eAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,UAAlB,UACE,cAAC,EAAD,IACA,cAAC,EAAD,OAEF,eAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,WAAlB,UACE,cAAC,EAAD,IACA,cAAC,WAAD,CAAUvD,OAAQiD,EAAlB,SACE,cAAC,EAAD,iBCjDCO,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBtE,MAAK,YAAkD,IAA/CuE,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,gBCsBCjJ,EAxBC,SAACwJ,EAAOC,GACpB,OAAOA,EAAO3H,MACV,IAAK,gBACD,OAAO,2BAAI0H,GAAX,IAAkBhI,OAAO,GAAD,mBAAKgI,EAAMhI,QAAX,CAAmBiI,EAAOvG,SACtD,IAAK,qBACD,IAAMD,EAAQuG,EAAMhI,OAAOkI,WACvB,SAACC,GAAD,OAAgBA,EAAWtH,KAAOoH,EAAOpH,MAEzCuH,EAAS,YAAOJ,EAAMhI,QAM1B,OALGyB,GAAS,EACR2G,EAAUC,OAAO5G,EAAO,GAExB8B,QAAQ+E,KAAR,uCAA6CL,EAAOpH,GAApD,+BAEG,2BAAImH,GAAX,IAAiBhI,OAAQoI,IAC7B,IAAK,WACD,OAAO,2BAAIJ,GAAX,IAAiB/H,KAAMgI,EAAOhI,OAClC,IAAK,eACD,OAAO,2BAAI+H,GAAX,IAAkBhI,OAAQ,KAC9B,QACI,OAAOgI,ICjBnBO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,CAAehK,aDVS,CACxBuB,OAAQ,GACRC,KAAM,MCQqCzB,QAASA,EAApD,SACE,cAAC,EAAD,QAGJkK,SAASC,eAAe,SAM1BnB,K","file":"static/js/main.ad3434cd.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from 'react';\r\n\r\n//Prepare the data layer\r\nexport const StateContext = createContext();\r\n\r\n//\r\nexport const StateProvider = ({reducer,initialState,children}) => (\r\n    <StateContext.Provider value={useReducer(reducer, initialState)} >\r\n        {children}\r\n    </StateContext.Provider>\r\n)\r\n\r\nexport const useStateValue =() => useContext(StateContext)","// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nimport firebase from 'firebase';\r\nconst firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_apiKey,\r\n    authDomain: process.env.REACT_APP_authDomain,\r\n    databaseURL: process.env.REACT_APP_databaseURL,\r\n    projectId: process.env.REACT_APP_projectId,\r\n    storageBucket: process.env.REACT_APP_storageBucket,\r\n    messagingSenderId: process.env.REACT_APP_messagingSenderId,\r\n    appId: process.env.REACT_APP_appId,\r\n    measurementId: process.env.REACT_APP_measurementId\r\n    };\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig)\r\n\r\nconst db = firebaseApp.firestore();\r\nconst auth = firebaseApp.auth();\r\n\r\nexport {db , auth};","import React from 'react'\r\nimport './Header.css'\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport { ShoppingBasket } from '@material-ui/icons';\r\nimport { Link } from 'react-router-dom';\r\nimport { useStateValue } from '../../State/StateProvider/StateProvider';\r\nimport { auth } from '../../firebase';\r\n\r\nfunction Header() {\r\n\r\n    const [{basket,user}] = useStateValue();\r\n\r\n    const handleAuthentication = () => {\r\n        if(user) auth.signOut();\r\n    }\r\n\r\n    return (\r\n        <div className='header'>\r\n            <Link to='/'>\r\n                <img src=\"https://res.cloudinary.com/valodagreat/image/upload/v1606824330/automotive_m4cfko.jpg\" alt=\"logo\" className='header_logo'/> \r\n            </Link>\r\n            <div className=\"header_search\">\r\n                <input type=\"text\" className=\"header_searchInput\"/>\r\n                <SearchIcon className='header_searchIcon' /> \r\n            </div>\r\n            <div className=\"header_nav\">\r\n                <Link to={user? '/'  : '/login'}>\r\n                    <div onClick={handleAuthentication} className=\"header_option\">\r\n                        <span className=\"header_optionLineOne\">\r\n                            Hello {user? user.email: 'User'}\r\n                        </span>\r\n                        <span className=\"header_optionLineTwo\">\r\n                            {user? 'Sign Out': 'Sign In'}\r\n                        </span>\r\n                    </div>\r\n                </Link>\r\n                <Link to='/orders'>\r\n                <div className=\"header_option\">\r\n                    <span className=\"header_optionLineOne\">\r\n                        Returns\r\n                    </span>\r\n                    <span className=\"header_optionLineTwo\">\r\n                        & Orders\r\n                    </span>\r\n                </div>\r\n                </Link>\r\n                <div className=\"header_option\">\r\n                    <span className=\"header_optionLineOne\">\r\n                        Your\r\n                    </span>\r\n                    <span className=\"header_optionLineTwo\">\r\n                        Prime\r\n                    </span>\r\n                </div>\r\n                <Link to='/checkout' >\r\n                    <div className=\"header_optionBasket\">\r\n                        <ShoppingBasket />\r\n                        <span className=\"header_optionLineTwo header_basketCount\">\r\n                            {basket?.length}\r\n                        </span> \r\n                    </div>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useStateValue } from '../../State/StateProvider/StateProvider';\r\nimport './Products.css'\r\n\r\nfunction Products({id,title,price,image,rating}) {\r\n    \r\n    const [{user},dispatch] = useStateValue();\r\n    const history = useHistory();\r\n\r\n    const addToBasket = ()=>{\r\n\r\n        if(user){\r\n            dispatch({\r\n                type: 'ADD TO BASKET',\r\n                item: {\r\n                    id,\r\n                    title,\r\n                    price,\r\n                    image,\r\n                    rating\r\n                }\r\n            })\r\n        }else{\r\n            history.push('/login')\r\n        }\r\n        \r\n    } \r\n    return (\r\n        <div className='products'>\r\n            <div className=\"products_info\">\r\n                <p>{title}</p>\r\n                <p className=\"products_price\">\r\n                    <small>$</small>\r\n                    <strong>{price}</strong>\r\n                </p>\r\n                <div className=\"products_rating\">\r\n                    {Array(rating).fill().map((i,index)=> <p key={index}>⭐</p> )}\r\n                </div>\r\n            </div>\r\n            <img src={image} alt={title}/>\r\n            <button onClick={addToBasket}>Add to cart</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Products\r\n","import React from 'react';\r\nimport Products from '../Products/Products';\r\nimport './Home.css'\r\n\r\nfunction Home() {\r\n    return (\r\n        <div className='home'>\r\n            <div className=\"home_container\">\r\n                <img className='home_image' src=\"https://res.cloudinary.com/valodagreat/image/upload/v1606835504/damn_thaesb.jpg\" alt=\"\"/>\r\n                <div className=\"home_row\">\r\n                    <Products id='23456' title='Alternator' price={190.99} image='https://res.cloudinary.com/valodagreat/image/upload/v1606840013/alternator_yo08br.jpg' rating={5} />\r\n                    <Products id='12345' title='Starter' price={222.99} image='https://res.cloudinary.com/valodagreat/image/upload/v1606849420/starter_zyk0ux.jpg' rating={4} />\r\n                </div>\r\n                <div className=\"home_row\">\r\n                    <Products id='56789' title='Spark Plug' price={7.99} image='https://res.cloudinary.com/valodagreat/image/upload/v1606850326/plug_ixzqxb.jpg' rating={4} />\r\n                    <Products id='34567' title='Fuel Pump' price={287.99} image='https://res.cloudinary.com/valodagreat/image/upload/v1606850496/fuel_pump_jzmi5r.jpg' rating={3} />\r\n                </div>\r\n                <div className=\"home_row\">\r\n                    <Products id='111213' title='Battery' price={199.99} image='https://res.cloudinary.com/valodagreat/image/upload/v1606850960/battery_iqihzd.jpg' rating={4} />\r\n                    <Products id='21356' title='Brake Pads' price={28.99} image='https://res.cloudinary.com/valodagreat/image/upload/v1606851175/brake-pad_zg8avv.jpg' rating={4} />\r\n                </div>\r\n                <div className=\"home_row\">\r\n                    <Products id='78910' title='Performance brake pad/Rotor kit' price={899.29} image='https://res.cloudinary.com/valodagreat/image/upload/v1606850754/rotor_kit_hbvqoc.jpg' rating={2} />\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React from 'react'\r\nimport { useStateValue } from '../../State/StateProvider/StateProvider';\r\nimport './CheckOutProduct.css'\r\n\r\nfunction CheckOutProduct({id,title,price,image,rating,hidebutton}) {\r\n    const [,dispatch] = useStateValue();\r\n    const removeFromBasket = () => {\r\n        dispatch({\r\n            type: 'REMOVE FROM BASKET',\r\n            id,\r\n        })\r\n    }\r\n    return (\r\n        <div className='checkoutProduct'>\r\n            <img src={image} alt=\"product\" className=\"checkoutProduct_image\"/>\r\n            <div className=\"checkoutProduct_info\">\r\n                <p className=\"checkoutProduct_title\">\r\n                    {title}\r\n                </p>\r\n                <p className=\"checkoutProduct_price\">\r\n                    <small>$</small>\r\n                    <strong>{price}</strong>\r\n                </p>\r\n                <div className=\"checkoutProduct_rating\">\r\n                    {Array(rating).fill().map((i,index)=> <p key={index}>⭐</p> )}\r\n                </div>\r\n                { !hidebutton && (<button onClick={removeFromBasket}>Remove from basket</button>)}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CheckOutProduct\r\n","import React from 'react';\r\nimport './Subtotal.css'\r\nimport CurrencyFormat from 'react-currency-format'\r\nimport { useStateValue } from '../../State/StateProvider/StateProvider';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nfunction Subtotal() {\r\n\r\n    const history = useHistory();\r\n\r\n    const getBasketTotal=(basket)=>{\r\n        return basket?.reduce((sum, item) => sum + item.price,0)\r\n    }\r\n\r\n    const [{basket,user}] = useStateValue();\r\n\r\n    return (\r\n        <div className='subtotal'>\r\n            <CurrencyFormat\r\n                renderText={value => (<>\r\n                <p>\r\n                    Subtotal ({basket?.length} items):<strong>{value}</strong>\r\n                </p>\r\n                <small className=\"subtotal_gift\">\r\n                    <input type=\"checkbox\" name=\"\" id=\"\"/>This order contains a gift\r\n                </small>\r\n                    </>)}\r\n                decimalScale={2}\r\n                value={getBasketTotal(basket)}\r\n                displayType={'text'}\r\n                thousandSeparator={true}\r\n                prefix={'$'} />\r\n                <button onClick={e =>{\r\n                    if(user){\r\n                        history.push('/payment')\r\n                    }else{\r\n                        history.push('/login')\r\n                    } \r\n                    \r\n                }}>\r\n                    Proceed to Checkout\r\n                </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Subtotal\r\n","import React from 'react'\r\nimport { useStateValue } from '../../State/StateProvider/StateProvider';\r\nimport CheckOutProduct from '../CheckOutProduct/CheckOutProduct';\r\nimport Subtotal from '../Subtotal/Subtotal'\r\nimport './Checkout.css'\r\n\r\nfunction Checkout() {\r\n\r\n    const [{basket,user}] = useStateValue();\r\n\r\n    return (\r\n        <div className='checkout'>\r\n            <div className=\"checkout_left\">\r\n                <img src=\"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg\" alt=\"Ad\" className=\"checkout_ad\"/>\r\n                <div>\r\n                    <h3>Hello,{user?.email}</h3>\r\n                    <h2 className=\"checkout_title\">Your Shopping Basket</h2>\r\n                    {basket?.map((item,index) =>(\r\n                        <CheckOutProduct\r\n                        key={index}\r\n                        id={item.id}\r\n                        title={item.title}\r\n                        price={item.price}\r\n                        image={item.image}\r\n                        rating={item.rating}\r\n                        />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n            <div className=\"checkout_right\">\r\n                <Subtotal/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Checkout\r\n","import React , { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { auth } from '../../firebase';\r\nimport './Login.css'\r\n\r\nfunction Login() {\r\n    const history = useHistory();\r\n    const [email,setEmail] = useState('')\r\n    const [password,setPassword] = useState('');\r\n    \r\n    const signIn = (e)=>{\r\n        e.preventDefault();\r\n\r\n        auth.signInWithEmailAndPassword(email,password).then(auth =>{\r\n            if(auth){\r\n                history.push('/')\r\n            }}).catch(err => console.log(err.message));\r\n    }\r\n\r\n    const register = (e)=>{\r\n        e.preventDefault();\r\n\r\n        auth.createUserWithEmailAndPassword(email,password).then(auth =>{\r\n            if(auth){\r\n                history.push('/')\r\n            }}).catch(err => console.log(err.message));\r\n    }\r\n    return (\r\n        <div className='login'>\r\n            <Link to='/'>\r\n                <img src=\"https://res.cloudinary.com/valodagreat/image/upload/v1606824330/automotive_m4cfko.jpg\" alt=\"logo\" className='login_logo'/>\r\n            </Link> \r\n            <div className=\"login_container\">\r\n                <h1>Sign In</h1>\r\n                <form >\r\n                    <h5>Email</h5>\r\n                    <input type=\"email\" value={email} onChange={e => setEmail(e.target.value)}/>\r\n                    <h5>Password</h5>\r\n                    <input type=\"password\" value={password} onChange={e => setPassword(e.target.value)}/>\r\n                    <button type='submit' onClick={signIn} className='login_signInButton'>Sign In</button>\r\n                </form>\r\n                <p>By signing in you agree to our condition of use and sale. Please see our Privacy Notice.</p>\r\n                <button onClick={register} className='login_registerButton'>Sign Up</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: \"https://immense-bastion-62742.herokuapp.com\",\r\n});\r\n\r\nexport default instance;","import { CardElement ,useElements, useStripe } from '@stripe/react-stripe-js';\r\nimport React,{ useState,useEffect} from 'react';\r\nimport CurrencyFormat from 'react-currency-format';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport instance from '../../axios/axios';\r\nimport { db } from '../../firebase';\r\nimport { useStateValue } from '../../State/StateProvider/StateProvider';\r\nimport CheckOutProduct from '../CheckOutProduct/CheckOutProduct';\r\nimport './Payment.css'\r\n\r\nfunction Payment() {\r\n\r\n    const history = useHistory();\r\n    const stripe = useStripe();\r\n    const elements = useElements();\r\n    const [error,setError] = useState(null);\r\n    const [disabled,setDisabled] = useState(true);\r\n    const [succeeded,setSucceeded] = useState(false);\r\n    const [processing,setProcessing] = useState(\"\");\r\n    const [clientSecret,setClientSecret] = useState(\"\");\r\n\r\n    const [{basket,user},dispatch] = useStateValue();\r\n\r\n    useEffect(() => {\r\n        const getClientSecret = async () =>{\r\n            const response = await instance({\r\n                method: 'post',\r\n                url: `/payments/create?total=${getBasketTotal(basket) * 100}`\r\n            })\r\n            setClientSecret(response.data.clientSecret)\r\n            \r\n            \r\n        }\r\n        if(getBasketTotal(basket) > 1){\r\n            getClientSecret()\r\n        }\r\n\r\n    }, [basket])\r\n\r\n    const getBasketTotal=(basket)=>{\r\n        return basket?.reduce((sum, item) => sum + item.price,0)\r\n    }\r\n\r\n    const handleSubmit = async(e) => {\r\n        e.preventDefault();\r\n        if(clientSecret.length > 1){\r\n            setProcessing(true);\r\n\r\n            stripe.confirmCardPayment(clientSecret, {\r\n                payment_method: {\r\n                    card: elements.getElement(CardElement)\r\n                }\r\n            }).then(({paymentIntent}) => {\r\n                \r\n                db.collection('users').doc(user?.uid).collection('orders').doc(paymentIntent.id).set({\r\n                    basket,\r\n                    amount: paymentIntent.amount,\r\n                    created: paymentIntent.created\r\n                })\r\n\r\n                setSucceeded(true)\r\n                setError(null)\r\n                setProcessing(false)\r\n\r\n                dispatch({\r\n                    type: \"EMPTY BASKET\"\r\n                })\r\n    \r\n                history.replace('/orders')\r\n            })\r\n        }\r\n        \r\n\r\n    };\r\n\r\n    const handleChange = e => {\r\n        setDisabled(e.empty)\r\n        setError(e.error ? e.error.message : '')\r\n    }\r\n\r\n    return (\r\n        <div className='payment'>\r\n            <div className=\"payment_container\">\r\n                <h1>Checkout (<Link to='/checkout'>{basket?.length} items</Link>)</h1>\r\n                <div className=\"payment_section\">\r\n                    <div className=\"payment_title\">\r\n                        <h3>Delivery Address</h3>\r\n                    </div>\r\n                    <div className=\"payment_address\">\r\n                        <p>{user?.email}</p>\r\n                        <p>123 React Lane</p>\r\n                        <p>Los Angeles,CA</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"payment_section\">\r\n                    <div className=\"payment_title\">\r\n                        <h3>Review Items and Delivery</h3>\r\n                    </div>\r\n                    <div className=\"payment_items\">\r\n                        {basket?.map((item, index) =>(\r\n                            <CheckOutProduct\r\n                            key={index}\r\n                            id={item.id}\r\n                            title={item.title}\r\n                            price={item.price}\r\n                            image={item.image}\r\n                            rating={item.rating}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n                <div className=\"payment_section\">\r\n                    <div className=\"payment_title\">\r\n                        <h3>Payment Methods</h3>\r\n                    </div>\r\n                    <div className=\"payment_details\">\r\n                        <form onSubmit={handleSubmit}>\r\n                            <CardElement onChange={handleChange} />\r\n                            <div className=\"payment_priceContainer\">\r\n                            <CurrencyFormat\r\n                                renderText={value => (<>\r\n                                <h3>\r\n                                    Order Total: {value}\r\n                                </h3>\r\n                                    </>)}\r\n                                decimalScale={2}\r\n                                value={getBasketTotal(basket)}\r\n                                displayType={'text'}\r\n                                thousandSeparator={true}\r\n                                prefix={'$'} />\r\n                                <button className='payment_button' disabled={processing || disabled || succeeded}>\r\n                                    <span>{processing ? <p>Processing</p> : 'Buy Now'}</span>\r\n                                </button>\r\n                            </div>\r\n                            {error && <div>{error}</div>}\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Payment\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport './Order.css';\r\nimport CheckOutProduct from '../CheckOutProduct/CheckOutProduct';\r\nimport CurrencyFormat from 'react-currency-format';\r\n\r\nfunction Order({order}) {\r\n    return (\r\n        <div className='order'>\r\n            <h2 className='order_p'>Order</h2>\r\n            <p className='order_time'>{moment.unix(order?.data.created).format('MMMM Do YYYY, h:mm a')}</p>\r\n            <p className=\"order_id\">\r\n                <small>{order?.id}</small>\r\n            </p>\r\n            {\r\n                order.data.basket?.map(item=> (\r\n                    <CheckOutProduct\r\n                    key={item.id}\r\n                    id={item.id}\r\n                    image={item.image}\r\n                    title={item.title}\r\n                    price={item.price}\r\n                    rating={item.rating}\r\n                    hidebutton />\r\n                ))\r\n            }\r\n            <CurrencyFormat\r\n                renderText={value => (<>\r\n                <h3 className='order_total'>\r\n                    Order Total : {value}\r\n                </h3>\r\n                    </>)}\r\n                decimalScale={2}\r\n                value={order?.data.amount/100}\r\n                displayType={'text'}\r\n                thousandSeparator={true}\r\n                prefix={'$'} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Order\r\n","import React, { useState,useEffect } from 'react';\r\nimport { db } from '../../firebase';\r\nimport { useStateValue } from '../../State/StateProvider/StateProvider';\r\nimport Order from '../Order/Order';\r\nimport './Orders.css'\r\n\r\nfunction Orders() {\r\n    const [{user},] = useStateValue()\r\n    const [orders , setOrders] = useState([])\r\n\r\n    useEffect(() => {\r\n        if(user){\r\n            db.collection('users').doc(user?.uid).collection('orders').orderBy('created', 'desc').onSnapshot(snapshot =>{\r\n                setOrders(snapshot.docs.map(doc => ({\r\n                    id: doc.id,\r\n                    data: doc.data()\r\n                })))\r\n            })\r\n        }else{\r\n            setOrders([])\r\n        }\r\n    }, [user])\r\n    return (\r\n        <div className='orders'>\r\n            <h1>Your Orders</h1>\r\n            <div className=\"orders_order\">\r\n                {orders.map(order => (\r\n                    <Order key={order.id} order={order} />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Orders\r\n","import React , { useEffect } from 'react';\nimport './App.css';\nimport Header from './components/Header/Header';\nimport Home from './components/Home/Home';\nimport {BrowserRouter as Router, Switch, Route } from 'react-router-dom'\nimport Checkout from './components/Checkout/Checkout';\nimport Login from './components/Login/Login';\nimport { auth } from './firebase';\nimport { useStateValue } from './State/StateProvider/StateProvider';\nimport Payment from './components/Payment/Payment';\nimport {loadStripe} from '@stripe/stripe-js';\nimport {Elements} from '@stripe/react-stripe-js'\nimport Orders from './components/Orders/Orders';\n\nconst promise = loadStripe('pk_test_51HuVcvGA308hXQPTpnS2bDEyCYQOLz2wxosXCIsVgaqWCvDMDe90Q89ibsentoHTgpouIZgsU6xfFXDIgz5vTJzs0024ZArYfR')\n\nfunction App() {\n\n  const [,dispatch]= useStateValue();\n\n  useEffect(() => {\n    auth.onAuthStateChanged(authUser=>{\n      \n      if(authUser){\n        dispatch({\n          type: 'SET USER',\n          user: authUser\n        })\n        \n      }else{\n        dispatch({\n          type: 'SET USER',\n          user: null\n        })\n        \n      }\n    })\n  }, [dispatch])\n\n  return (\n    <Router>\n      <div className=\"app\">\n        <Switch>\n          <Route exact path='/'>\n            <Header/>\n            <Home />\n          </Route>\n          <Route exact path='/login'>\n            <Login />\n          </Route>\n          <Route exact path='/checkout'>\n            <Header/>\n            <Checkout/>\n          </Route>\n          <Route exact path='/orders'>\n            <Header/>\n            <Orders />\n          </Route>\n          <Route exact path='/payment'>\n            <Header/>\n            <Elements stripe={promise}>\n              <Payment/>  \n            </Elements>\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const initialState = {\r\n    basket: [],\r\n    user: null\r\n};\r\n\r\nconst reducer = (state, action) =>{\r\n    switch(action.type){\r\n        case 'ADD TO BASKET':\r\n            return {...state, basket:[...state.basket, action.item]}\r\n        case 'REMOVE FROM BASKET':\r\n            const index = state.basket.findIndex(\r\n                (basketItem) => basketItem.id === action.id\r\n            )\r\n            let newBasket = [...state.basket]\r\n            if(index >= 0){\r\n                newBasket.splice(index, 1)\r\n            }else{\r\n                console.warn(`Can't Remove Product with id ${action.id} as it's not in the basket`)\r\n            }\r\n            return {...state,basket: newBasket}\r\n        case 'SET USER':\r\n            return {...state,user: action.user}\r\n        case \"EMPTY BASKET\":\r\n            return {...state, basket: []}\r\n        default:\r\n            return state\r\n    }\r\n};\r\n\r\nexport default reducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { StateProvider } from './State/StateProvider/StateProvider';\nimport reducer, { initialState } from './State/StateProvider/Reducer';\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}